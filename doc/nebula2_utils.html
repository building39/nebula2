<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html>
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<title>Module nebula2_utils</title>
<link rel="stylesheet" type="text/css" href="stylesheet.css" title="EDoc">
</head>
<body bgcolor="white">
<div class="navbar"><a name="#navbar_top"></a><table width="100%" border="0" cellspacing="0" cellpadding="2" summary="navigation bar"><tr><td><a href="overview-summary.html" target="overviewFrame">Overview</a></td><td><a href="http://www.erlang.org/"><img src="erlang.png" align="right" border="0" alt="erlang logo"></a></td></tr></table></div>
<hr>

<h1>Module nebula2_utils</h1>
<ul class="index"><li><a href="#description">Description</a></li><li><a href="#index">Function Index</a></li><li><a href="#functions">Function Details</a></li></ul>
  Various useful functions used throughout the application.

<p><b>Authors:</b> mmartin.</p>

<h2><a name="description">Description</a></h2>
  Various useful functions used throughout the application.
<h2><a name="index">Function Index</a></h2>
<table width="100%" border="1" cellspacing="0" cellpadding="2" summary="function index"><tr><td valign="top"><a href="#beginswith-2">beginswith/2</a></td><td>
  Check if a string begins with a certain substring.</td></tr>
<tr><td valign="top"><a href="#check_base64-1">check_base64/1</a></td><td>
  Check base64 encoding.</td></tr>
<tr><td valign="top"><a href="#create_object-3">create_object/3</a></td><td>
  Create a CDMI object.</td></tr>
<tr><td valign="top"><a href="#create_object-4">create_object/4</a></td><td>
  Create a CDMI object.</td></tr>
<tr><td valign="top"><a href="#delete-1">delete/1</a></td><td>
  Delete an object and all objects underneath it.</td></tr>
<tr><td valign="top"><a href="#delete_cache-1">delete_cache/1</a></td><td>
  Delete an object from cache.</td></tr>
<tr><td valign="top"><a href="#delete_child_from_parent-3">delete_child_from_parent/3</a></td><td>
  Delete a child from its parent.</td></tr>
<tr><td valign="top"><a href="#extract_parentURI-1">extract_parentURI/1</a></td><td>
  Extract the Parent URI from the path.</td></tr>
<tr><td valign="top"><a href="#generate_hash-2">generate_hash/2</a></td><td>
  Generate hash.</td></tr>
<tr><td valign="top"><a href="#get_cache-1">get_cache/1</a></td><td>
  Get an object from cache, if it is cached.</td></tr>
<tr><td valign="top"><a href="#get_domain_hash-1">get_domain_hash/1</a></td><td>
  Generate a hash for the domain.</td></tr>
<tr><td valign="top"><a href="#get_object_name-1">get_object_name/1</a></td><td>
  Get the object name.</td></tr>
<tr><td valign="top"><a href="#get_object_oid-2">get_object_oid/2</a></td><td>
  Get the object's oid.</td></tr>
<tr><td valign="top"><a href="#get_parent_uri-1">get_parent_uri/1</a></td><td>
  Construct the object's parent URI.</td></tr>
<tr><td valign="top"><a href="#get_time-0">get_time/0</a></td><td>
  Return current time in ISO 8601:2004 extended representation.</td></tr>
<tr><td valign="top"><a href="#get_time-0">get_time/0</a></td><td>
  Return static time for unit tests.</td></tr>
<tr><td valign="top"><a href="#get_value-2">get_value/2</a></td><td>
  Get a value from the data map.</td></tr>
<tr><td valign="top"><a href="#get_value-3">get_value/3</a></td><td>
  Get a value from the data map.</td></tr>
<tr><td valign="top"><a href="#handle_content_type-1">handle_content_type/1</a></td><td>
  Get the content type for the request.</td></tr>
<tr><td valign="top"><a href="#make_key-0">make_key/0</a></td><td>Make a primary key for storing a new object.</td></tr>
<tr><td valign="top"><a href="#make_search_key-1">make_search_key/1</a></td><td>
  Build a search key.</td></tr>
<tr><td valign="top"><a href="#put_value-3">put_value/3</a></td><td>
  Put a value to the data map.</td></tr>
<tr><td valign="top"><a href="#set_cache-1">set_cache/1</a></td><td>
  Cache an object.</td></tr>
<tr><td valign="top"><a href="#type_of-1">type_of/1</a></td><td>
  Check the type of a term.</td></tr>
<tr><td valign="top"><a href="#update_data_system_metadata-3">update_data_system_metadata/3</a></td><td>
  Update Metadata.</td></tr>
<tr><td valign="top"><a href="#update_data_system_metadata-4">update_data_system_metadata/4</a></td><td>
  Update Metadata.</td></tr>
<tr><td valign="top"><a href="#update_parent-4">update_parent/4</a></td><td>
   Update a parent object with a new child.</td></tr>
</table>

<h2><a name="functions">Function Details</a></h2>

<h3 class="function"><a name="beginswith-2">beginswith/2</a></h3>
<div class="spec">
<p><tt>beginswith(Str::string(), Substr::string()) -&gt; boolean()</tt><br></p>
</div><p>
  Check if a string begins with a certain substring.</p>

<h3 class="function"><a name="check_base64-1">check_base64/1</a></h3>
<div class="spec">
<p><tt>check_base64(Data::#{}) -&gt; boolean()</tt><br></p>
</div><p>
  Check base64 encoding.</p>

<h3 class="function"><a name="create_object-3">create_object/3</a></h3>
<div class="spec">
<p><tt>create_object(State::<a href="#type-cdmi_state">cdmi_state()</a>, ObjectType::<a href="#type-object_type">object_type()</a>, Body::#{}) -&gt; {boolean(), #{}} | false</tt><br></p>
</div><p>
  Create a CDMI object.</p>

<h3 class="function"><a name="create_object-4">create_object/4</a></h3>
<div class="spec">
<p><tt>create_object(State::<a href="#type-cdmi_state">cdmi_state()</a>, ObjectType::<a href="#type-object_type">object_type()</a>, DomainName::binary(), Body::#{}) -&gt; {boolean(), #{}} | false</tt><br></p>
</div><p>
  Create a CDMI object.</p>

<h3 class="function"><a name="delete-1">delete/1</a></h3>
<div class="spec">
<p><tt>delete(State::<a href="#type-cdmi_state">cdmi_state()</a>) -&gt; ok | {error, term()}</tt><br></p>
</div><p>
  Delete an object and all objects underneath it.</p>

<h3 class="function"><a name="delete_cache-1">delete_cache/1</a></h3>
<div class="spec">
<p><tt>delete_cache(Oid::<a href="#type-object_oid">object_oid()</a>) -&gt; {ok | error, deleted | notfound}</tt><br></p>
</div><p>
  Delete an object from cache.</p>

<h3 class="function"><a name="delete_child_from_parent-3">delete_child_from_parent/3</a></h3>
<div class="spec">
<p><tt>delete_child_from_parent(Pid::pid(), ParentId::<a href="#type-object_oid">object_oid()</a>, Name::binary()) -&gt; {ok, #{}} | {error, term()}</tt><br></p>
</div><p>
  Delete a child from its parent</p>

<h3 class="function"><a name="extract_parentURI-1">extract_parentURI/1</a></h3>
<div class="spec">
<p><tt>extract_parentURI(Path::list()) -&gt; list()</tt><br></p>
</div><p>
  Extract the Parent URI from the path.</p>

<h3 class="function"><a name="generate_hash-2">generate_hash/2</a></h3>
<div class="spec">
<p><tt>generate_hash(Method::string(), Data::string()) -&gt; string()</tt><br></p>
</div><p>
  Generate hash.</p>

<h3 class="function"><a name="get_cache-1">get_cache/1</a></h3>
<div class="spec">
<p><tt>get_cache(Key::binary() | list()) -&gt; {ok, #{}} | {error, deleted | notfound}</tt><br></p>
</div><p>
  Get an object from cache, if it is cached.</p>

<h3 class="function"><a name="get_domain_hash-1">get_domain_hash/1</a></h3>
<div class="spec">
<p><tt>get_domain_hash(Domain::binary() | list()) -&gt; string()</tt><br></p>
</div><p>
  Generate a hash for the domain.</p>

<h3 class="function"><a name="get_object_name-1">get_object_name/1</a></h3>
<div class="spec">
<p><tt>get_object_name(Path::string()) -&gt; string()</tt><br></p>
</div><p>
  Get the object name.</p>

<h3 class="function"><a name="get_object_oid-2">get_object_oid/2</a></h3>
<div class="spec">
<p><tt>get_object_oid(Path::string() | binary(), State::<a href="#type-cdmi_state">cdmi_state()</a>) -&gt; {ok, term()} | {notfound, string()}</tt><br></p>
</div><p>
  Get the object's oid.</p>

<h3 class="function"><a name="get_parent_uri-1">get_parent_uri/1</a></h3>
<div class="spec">
<p><tt>get_parent_uri(Path::list() | binary()) -&gt; binary()</tt><br></p>
</div><p>
  Construct the object's parent URI.</p>

<h3 class="function"><a name="get_time-0">get_time/0</a></h3>
<div class="spec">
<p><tt>get_time() -&gt; string()</tt><br></p>
</div><p>
  Return current time in ISO 8601:2004 extended representation.</p>

<h3 class="function"><a name="get_time-0">get_time/0</a></h3>
<div class="spec">
<p><tt>get_time() -&gt; any()</tt></p>
</div><p>
  Return static time for unit tests.</p>

<h3 class="function"><a name="get_value-2">get_value/2</a></h3>
<div class="spec">
<p><tt>get_value(Key::binary(), Map::#{}) -&gt; term()</tt><br></p>
</div><p>
  Get a value from the data map.</p>

<h3 class="function"><a name="get_value-3">get_value/3</a></h3>
<div class="spec">
<p><tt>get_value(Key::binary(), Map::#{}, Default::term()) -&gt; term()</tt><br></p>
</div><p>
  Get a value from the data map.</p>

<h3 class="function"><a name="handle_content_type-1">handle_content_type/1</a></h3>
<div class="spec">
<p><tt>handle_content_type(State::<a href="#type-cdmi_state">cdmi_state()</a>) -&gt; binary()</tt><br></p>
</div><p>
  Get the content type for the request.</p>

<h3 class="function"><a name="make_key-0">make_key/0</a></h3>
<div class="spec">
<p><tt>make_key() -&gt; <a href="#type-object_oid">object_oid()</a></tt><br></p>
</div><p>Make a primary key for storing a new object.</p>

<h3 class="function"><a name="make_search_key-1">make_search_key/1</a></h3>
<div class="spec">
<p><tt>make_search_key(Data::#{}) -&gt; string()</tt><br></p>
</div><p>
  Build a search key.</p>

<h3 class="function"><a name="put_value-3">put_value/3</a></h3>
<div class="spec">
<p><tt>put_value(Key::binary(), Value::term(), Map::#{}) -&gt; #{}</tt><br></p>
</div><p>
  Put a value to the data map.</p>

<h3 class="function"><a name="set_cache-1">set_cache/1</a></h3>
<div class="spec">
<p><tt>set_cache(Data::#{}) -&gt; {ok, #{}}</tt><br></p>
</div><p>
  Cache an object.</p>

<h3 class="function"><a name="type_of-1">type_of/1</a></h3>
<div class="spec">
<p><tt>type_of(X::term()) -&gt; binary()</tt><br></p>
</div><p>
  Check the type of a term.</p>

<h3 class="function"><a name="update_data_system_metadata-3">update_data_system_metadata/3</a></h3>
<div class="spec">
<p><tt>update_data_system_metadata(CList::list(), Data::#{}, State::<a href="#type-cdmi_state">cdmi_state()</a>) -&gt; #{}</tt><br></p>
</div><p>
  Update Metadata.</p>

<h3 class="function"><a name="update_data_system_metadata-4">update_data_system_metadata/4</a></h3>
<div class="spec">
<p><tt>update_data_system_metadata(CList::list(), Data::#{}, CapabilitiesURI::binary() | string(), State::<a href="#type-cdmi_state">cdmi_state()</a>) -&gt; #{}</tt><br></p>
</div><p>
  Update Metadata.</p>

<h3 class="function"><a name="update_parent-4">update_parent/4</a></h3>
<div class="spec">
<p><tt>update_parent(ParentOid::<a href="#type-object_oid">object_oid()</a>, Path::string(), ObjectType::<a href="#type-object_type">object_type()</a>, Pid::pid()) -&gt; {ok, #{}} | {error, term()}</tt><br></p>
</div><p>
   Update a parent object with a new child.</p>
<hr>

<div class="navbar"><a name="#navbar_bottom"></a><table width="100%" border="0" cellspacing="0" cellpadding="2" summary="navigation bar"><tr><td><a href="overview-summary.html" target="overviewFrame">Overview</a></td><td><a href="http://www.erlang.org/"><img src="erlang.png" align="right" border="0" alt="erlang logo"></a></td></tr></table></div>
<p><i>Generated by EDoc, Dec 23 2015, 10:12:57.</i></p>
</body>
</html>
